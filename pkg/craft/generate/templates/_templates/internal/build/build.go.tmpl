// Code generated by craft; DO NOT EDIT.

package build

import (
	"fmt"
	"time"
)

var version = "v0.0.0"

var (
	branch string
	commit string
	date   string
)

// Info contains all build information.
type Info struct {
	// Branch is build branch.
	Branch string `json:"branch,omitempty" yaml:"-"`
	// Commit is build specific commit hash (or sha).
	Commit string `json:"commit,omitempty" yaml:"-"`
	// Date is the build date.
	Date time.Time `json:"date,omitempty" yaml:"-"`
	// Version is the build version.
	Version string `json:"version,omitempty" yaml:"-"`
}

var _ fmt.Stringer = (*Info)(nil) // ensure interface is implemented

// String returns a string representation of the build.
func (i Info) String() string {
	return fmt.Sprintf("%s-%s+%s %s", i.Version, i.Commit, i.Branch, i.Date.Format(time.RFC3339))
}

// GetInfo returns the build information.
func GetInfo() Info {
	return Info{
		Branch: branch,
		Commit: commit,
		Date: func() time.Time {
			t, _ := time.Parse(time.RFC3339, date)
			return t
		}(),
		Version: version,
	}
}
